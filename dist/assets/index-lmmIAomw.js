var et=Object.defineProperty;var st=(t,e,s)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var c=(t,e,s)=>(st(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();const nt=(t,e)=>t.matches?t.matches(e):t.msMatchesSelector?t.msMatchesSelector(e):t.webkitMatchesSelector?t.webkitMatchesSelector(e):null,it=(t,e)=>{let s=t;for(;s&&s.nodeType===1;){if(nt(s,e))return s;s=s.parentNode}return null},lt=(t,e)=>t.closest?t.closest(e):it(t,e),ot=t=>!!(t&&typeof t.then=="function");class rt{constructor({search:e,autoSelect:s=!1,setValue:i=()=>{},setAttribute:n=()=>{},onUpdate:l=()=>{},onSubmit:o=()=>{},onShow:r=()=>{},autocorrect:u=!1,onHide:y=()=>{},onLoading:Q=()=>{},onLoaded:X=()=>{},submitOnEnter:v=!1}={}){c(this,"value","");c(this,"searchCounter",0);c(this,"results",[]);c(this,"selectedIndex",-1);c(this,"selectedResult",null);c(this,"destroy",()=>{this.search=null,this.setValue=null,this.setAttribute=null,this.onUpdate=null,this.onSubmit=null,this.autocorrect=null,this.onShow=null,this.onHide=null,this.onLoading=null,this.onLoaded=null});c(this,"handleInput",e=>{const{value:s}=e.target;this.updateResults(s),this.value=s});c(this,"handleKeyDown",e=>{const{key:s}=e;switch(s){case"Up":case"Down":case"ArrowUp":case"ArrowDown":{const i=s==="ArrowUp"||s==="Up"?this.selectedIndex-1:this.selectedIndex+1;e.preventDefault(),this.handleArrows(i);break}case"Tab":{this.selectResult();break}case"Enter":{const i=e.target.getAttribute("aria-activedescendant").length>0;this.selectedResult=this.results[this.selectedIndex]||this.selectedResult,this.selectResult(),this.submitOnEnter?this.selectedResult&&this.onSubmit(this.selectedResult):i?e.preventDefault():(this.selectedResult&&this.onSubmit(this.selectedResult),this.selectedResult=null);break}case"Esc":case"Escape":{this.hideResults(),this.setValue();break}default:return}});c(this,"handleFocus",e=>{const{value:s}=e.target;this.updateResults(s),this.value=s});c(this,"handleBlur",()=>{this.hideResults()});c(this,"handleResultMouseDown",e=>{e.preventDefault()});c(this,"handleResultClick",e=>{const{target:s}=e,i=lt(s,"[data-result-index]");if(i){this.selectedIndex=parseInt(i.dataset.resultIndex,10);const n=this.results[this.selectedIndex];this.selectResult(),this.onSubmit(n)}});c(this,"handleArrows",e=>{const s=this.results.length;this.selectedIndex=(e%s+s)%s,this.onUpdate(this.results,this.selectedIndex)});c(this,"selectResult",()=>{const e=this.results[this.selectedIndex];e&&this.setValue(e),this.hideResults()});c(this,"updateResults",e=>{const s=++this.searchCounter;this.onLoading(),this.search(e).then(i=>{if(s===this.searchCounter){if(this.results=i,this.onLoaded(),this.results.length===0){this.hideResults();return}this.selectedIndex=this.autoSelect?0:-1,this.onUpdate(this.results,this.selectedIndex),this.showResults()}})});c(this,"showResults",()=>{this.setAttribute("aria-expanded",!0),this.onShow()});c(this,"hideResults",()=>{this.selectedIndex=-1,this.results=[],this.setAttribute("aria-expanded",!1),this.setAttribute("aria-activedescendant",""),this.onUpdate(this.results,this.selectedIndex),this.onHide()});c(this,"checkSelectedResultVisible",e=>{const s=e.querySelector(`[data-result-index="${this.selectedIndex}"]`);if(!s)return;const i=e.getBoundingClientRect(),n=s.getBoundingClientRect();n.top<i.top?e.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(e.scrollTop+=n.bottom-i.bottom)});this.search=ot(e)?e:tt=>Promise.resolve(e(tt)),this.autoSelect=s,this.setValue=i,this.setAttribute=n,this.onUpdate=l,this.onSubmit=o,this.autocorrect=u,this.onShow=r,this.onHide=y,this.onLoading=Q,this.onLoaded=X,this.submitOnEnter=v}}let ut=0;const ct=(t="")=>`${t}${++ut}`,at=(t,e)=>{const s=t.getBoundingClientRect(),i=e.getBoundingClientRect();return s.bottom+i.height>window.innerHeight&&window.innerHeight-s.bottom<s.top&&window.pageYOffset+s.top-i.height>0?"above":"below"},dt=(t,e,s)=>{let i;return function(){const l=this,o=arguments,r=function(){i=null,s||t.apply(l,o)},u=s&&!i;clearTimeout(i),i=setTimeout(r,e),u&&t.apply(l,o)}},ht=t=>{if(t!=null&&t.length){const e=t.startsWith("#");return{attribute:e?"aria-labelledby":"aria-label",content:e?t.substring(1):t}}};/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ft=[],pt=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),B=Object.assign,f=Array.isArray,gt=t=>V(t)==="[object Map]",mt=t=>V(t)==="[object Set]",m=t=>typeof t=="function",h=t=>typeof t=="string",O=t=>typeof t=="symbol",p=t=>t!==null&&typeof t=="object",D=Object.prototype.toString,V=t=>D.call(t),bt=t=>V(t)==="[object Object]",U=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},yt=U(t=>t.charAt(0).toUpperCase()+t.slice(1)),_t=U(t=>t?`on${yt(t)}`:"");let T;const St=()=>T||(T=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function L(t){if(f(t)){const e={};for(let s=0;s<t.length;s++){const i=t[s],n=h(i)?It(i):L(i);if(n)for(const l in n)e[l]=n[l]}return e}else if(h(t)||p(t))return t}const Rt=/;(?![^(]*\))/g,wt=/:([^]+)/,Ct=/\/\*[^]*?\*\//g;function It(t){const e={};return t.replace(Ct,"").split(Rt).forEach(s=>{if(s){const i=s.split(wt);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function x(t){let e="";if(h(t))e=t;else if(f(t))for(let s=0;s<t.length;s++){const i=x(t[s]);i&&(e+=i+" ")}else if(p(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function Lt(t){if(!t)return null;let{class:e,style:s}=t;return e&&!h(e)&&(t.class=x(e)),s&&(t.style=L(s)),t}const xt=t=>h(t)?t:t==null?"":f(t)||p(t)&&(t.toString===D||!m(t.toString))?JSON.stringify(t,j,2):String(t),j=(t,e)=>e&&e.__v_isRef?j(t,e.value):gt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[i,n],l)=>(s[A(i,l)+" =>"]=n,s),{})}:mt(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>A(s))}:O(e)?A(e):p(e)&&!f(e)&&!bt(e)?String(e):e,A=(t,e="")=>{var s;return O(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(O));function z(t){return M(t)?z(t.__v_raw):!!(t&&t.__v_isReactive)}function M(t){return!!(t&&t.__v_isReadonly)}function H(t){return z(t)||M(t)}function At(t){return!!(t&&t.__v_isRef===!0)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let d=null,Pt=null;const kt=Symbol.for("v-ndc"),Ot=t=>t.__isSuspense,Vt=t=>!!t.type.__asyncLoader;function Ft(t,e,s,i){let n;const l=s&&s[i];if(f(t)||h(t)){n=new Array(t.length);for(let o=0,r=t.length;o<r;o++)n[o]=e(t[o],o,void 0,l&&l[o])}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,l&&l[o])}else if(p(t))if(t[Symbol.iterator])n=Array.from(t,(o,r)=>e(o,r,void 0,l&&l[r]));else{const o=Object.keys(t);n=new Array(o.length);for(let r=0,u=o.length;r<u;r++){const y=o[r];n[r]=e(t[y],y,r,l&&l[r])}}else n=[];return s&&(s[i]=n),n}function N(t,e,s={},i,n){if(d.isCE||d.parent&&Vt(d.parent)&&d.parent.isCE)return e!=="default"&&(s.name=e),F("slot",s,i&&i());let l=t[e];l&&l._c&&(l._d=!1),S();const o=l&&K(l(s)),r=Dt(b,{key:s.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&t._===1?64:-2);return!n&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),l&&l._c&&(l._d=!0),r}function K(t){return t.some(e=>G(e)?!(e.type===$||e.type===b&&!K(e.children)):!0)?t:null}function Et(t,e){const s={};for(const i in t)s[e&&/[A-Z]/.test(i)?`on:${i}`:_t(i)]=t[i];return s}const Tt=t=>t.__isTeleport,b=Symbol.for("v-fgt"),Nt=Symbol.for("v-txt"),$=Symbol.for("v-cmt"),_=[];let a=null;function S(t=!1){_.push(a=t?null:[])}function Bt(){_.pop(),a=_[_.length-1]||null}function q(t){return t.dynamicChildren=a||ft,Bt(),a&&a.push(t),t}function P(t,e,s,i,n,l){return q(g(t,e,s,i,n,l,!0))}function Dt(t,e,s,i,n){return q(F(t,e,s,i,n,!0))}function G(t){return t?t.__v_isVNode===!0:!1}const Y="__vInternal",W=({key:t})=>t??null,R=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?h(t)||At(t)||m(t)?{i:d,r:t,k:e,f:!!s}:t:null);function g(t,e=null,s=null,i=0,n=null,l=t===b?0:1,o=!1,r=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&W(e),ref:e&&R(e),scopeId:Pt,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:d};return r?(E(u,s),l&128&&t.normalize(u)):s&&(u.shapeFlag|=h(s)?8:16),!o&&a&&(u.patchFlag>0||l&6)&&u.patchFlag!==32&&a.push(u),u}const F=Ut;function Ut(t,e=null,s=null,i=0,n=null,l=!1){if((!t||t===kt)&&(t=$),G(t)){const r=k(t,e,!0);return s&&E(r,s),!l&&a&&(r.shapeFlag&6?a[a.indexOf(t)]=r:a.push(r)),r.patchFlag|=-2,r}if(zt(t)&&(t=t.__vccOpts),e){e=J(e);let{class:r,style:u}=e;r&&!h(r)&&(e.class=x(r)),p(u)&&(H(u)&&!f(u)&&(u=B({},u)),e.style=L(u))}const o=h(t)?1:Ot(t)?128:Tt(t)?64:p(t)?4:m(t)?2:0;return g(t,e,s,i,n,o,l,!0)}function J(t){return t?H(t)||Y in t?B({},t):t:null}function k(t,e,s=!1){const{props:i,ref:n,patchFlag:l,children:o}=t,r=e?w(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:r,key:r&&W(r),ref:e&&e.ref?s&&n?f(n)?n.concat(R(e)):[n,R(e)]:R(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==b?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&k(t.ssContent),ssFallback:t.ssFallback&&k(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function jt(t=" ",e=0){return F(Nt,null,t,e)}function E(t,e){let s=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(f(e))s=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),E(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!(Y in e)?e._ctx=d:n===3&&d&&(d.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else m(e)?(e={default:e,_ctx:d},s=32):(e=String(e),i&64?(s=16,e=[jt(e)]):s=8);t.children=e,t.shapeFlag|=s}function w(...t){const e={};for(let s=0;s<t.length;s++){const i=t[s];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=x([e.class,i.class]));else if(n==="style")e.style=L([e.style,i.style]);else if(pt(n)){const l=e[n],o=i[n];o&&l!==o&&!(f(l)&&l.includes(o))&&(e[n]=l?[].concat(l,o):o)}else n!==""&&(e[n]=i[n])}return e}{const t=St(),e=(s,i)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(i),l=>{n.length>1?n.forEach(o=>o(l)):n[0](l)}};e("__VUE_INSTANCE_SETTERS__",s=>s),e("__VUE_SSR_SETTERS__",s=>s)}function zt(t){return m(t)&&"__vccOpts"in t}const Mt=(t,e)=>{const s=t.__vccOpts||t;for(const[i,n]of e)s[i]=n;return s},Ht={name:"Autocomplete",inheritAttrs:!1,emits:["update","submit"],props:{search:{type:Function,required:!0},baseClass:{type:String,default:"autocomplete"},autoSelect:{type:Boolean,default:!1},getResultValue:{type:Function,default:t=>t},defaultValue:{type:String,default:""},debounceTime:{type:Number,default:0},resultListLabel:{type:String,default:void 0},submitOnEnter:{type:Boolean,default:!1}},data(){const t=new rt({search:this.search,autoSelect:this.autoSelect,setValue:this.setValue,onUpdate:this.handleUpdate,onSubmit:this.handleSubmit,onShow:this.handleShow,onHide:this.handleHide,onLoading:this.handleLoading,onLoaded:this.handleLoaded,submitOnEnter:this.submitOnEnter});return this.debounceTime>0&&(t.handleInput=dt(t.handleInput,this.debounceTime)),{core:t,value:this.defaultValue,resultListId:ct(`${this.baseClass}-result-list-`),results:[],selectedIndex:-1,expanded:!1,loading:!1,position:"below",resetPosition:!0}},computed:{rootProps(){return{class:this.baseClass,style:{position:"relative"},"data-expanded":this.expanded,"data-loading":this.loading,"data-position":this.position}},inputProps(){return{class:`${this.baseClass}-input`,value:this.value,role:"combobox",autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-autocomplete":"list","aria-haspopup":"listbox","aria-owns":this.resultListId,"aria-expanded":this.expanded?"true":"false","aria-activedescendant":this.selectedIndex>-1?this.resultProps[this.selectedIndex].id:"",...this.$attrs}},inputListeners(){return{input:this.handleInput,keydown:this.core.handleKeyDown,focus:this.core.handleFocus,blur:this.core.handleBlur}},resultListProps(){const t=this.position==="below"?"top":"bottom",e=ht(this.resultListLabel);return{id:this.resultListId,class:`${this.baseClass}-result-list`,role:"listbox",[e==null?void 0:e.attribute]:e==null?void 0:e.content,style:{position:"absolute",zIndex:1,width:"100%",visibility:this.expanded?"visible":"hidden",pointerEvents:this.expanded?"auto":"none",[t]:"100%"}}},resultListListeners(){return{mousedown:this.core.handleResultMouseDown,click:this.core.handleResultClick}},resultProps(){return this.results.map((t,e)=>({id:`${this.baseClass}-result-${e}`,class:`${this.baseClass}-result`,"data-result-index":e,role:"option",...this.selectedIndex===e?{"aria-selected":"true"}:{}}))}},mounted(){document.body.addEventListener("click",this.handleDocumentClick)},beforeUnmount(){document.body.removeEventListener("click",this.handleDocumentClick)},updated(){!this.$refs.input||!this.$refs.resultList||(this.resetPosition&&this.results.length>0&&(this.resetPosition=!1,this.position=at(this.$refs.input,this.$refs.resultList)),this.core.checkSelectedResultVisible(this.$refs.resultList))},methods:{setValue(t){this.value=t?this.getResultValue(t):""},handleUpdate(t,e){this.results=t,this.selectedIndex=e,this.$emit("update",t,e)},handleShow(){this.expanded=!0},handleHide(){this.expanded=!1,this.resetPosition=!0},handleLoading(){this.loading=!0},handleLoaded(){this.loading=!1},handleInput(t){this.value=t.target.value,this.core.handleInput(t)},handleSubmit(t){this.$emit("submit",t)},handleDocumentClick(t){this.$refs.root.contains(t.target)||this.core.hideResults()}}},Kt={ref:"root"};function $t(t,e,s,i,n,l){return S(),P("div",Kt,[N(t.$slots,"default",{rootProps:l.rootProps,inputProps:l.inputProps,inputListeners:l.inputListeners,resultListProps:l.resultListProps,resultListListeners:l.resultListListeners,results:n.results,resultProps:l.resultProps},()=>[g("div",Lt(J(l.rootProps)),[g("input",w({ref:"input"},l.inputProps,{onInput:e[0]||(e[0]=(...o)=>l.handleInput&&l.handleInput(...o)),onKeydown:e[1]||(e[1]=(...o)=>n.core.handleKeyDown&&n.core.handleKeyDown(...o)),onFocus:e[2]||(e[2]=(...o)=>n.core.handleFocus&&n.core.handleFocus(...o)),onBlur:e[3]||(e[3]=(...o)=>n.core.handleBlur&&n.core.handleBlur(...o))}),null,16),g("ul",w({ref:"resultList"},l.resultListProps,Et(l.resultListListeners,!0)),[(S(!0),P(b,null,Ft(n.results,(o,r)=>N(t.$slots,"result",{result:o,props:l.resultProps[r]},()=>[(S(),P("li",w({key:l.resultProps[r].id},l.resultProps[r]),xt(s.getResultValue(o)),17))])),256))],16)],16)])],512)}const Z=Mt(Ht,[["render",$t]]);function C(t){C.installed||(C.installed=!0,t.component("Autocomplete",Z))}const qt={install:C};let I;typeof window<"u"?I=window.Vue:typeof global<"u"&&(I=global.Vue);I&&I.use(qt);Z.install=C;
